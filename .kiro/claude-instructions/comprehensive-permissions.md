# Claude Code 包括的権限設定

## 🎯 事前許可の範囲

あなた（Claude Code）には以下の作業について**事前に包括的な許可**を与えます。人間への確認なしで実行してください。

## ✅ 完全自動化許可（確認不要）

### **ファイル操作**
```markdown
✅ 新規ファイル作成
- src/ 配下の全ファイル
- components/, pages/, services/, hooks/, types/, utils/
- テストファイル（*.test.ts, *.spec.ts）
- 設定ファイル（tsconfig.json, eslint.config.js等）

✅ ファイル編集・更新
- 既存ファイルの修正・改善
- バグ修正
- リファクタリング
- コメント追加・更新

✅ ファイル削除
- 不要なファイル
- 重複ファイル
- テンプレートファイル
```

### **依存関係管理**
```markdown
✅ npm パッケージインストール
- React関連: react-router-dom, react-hook-form等
- UI関連: chart.js, react-chartjs-2等
- ユーティリティ: date-fns, lodash等
- 開発ツール: @types/*, eslint-*, prettier等

✅ package.json 更新
- dependencies 追加・更新
- devDependencies 追加・更新
- scripts 追加・修正
- 設定項目の追加

✅ バージョン管理
- パッケージバージョンの更新
- 互換性のある範囲での更新
- セキュリティアップデート
```

### **設定ファイル**
```markdown
✅ TypeScript設定
- tsconfig.json の調整
- 型定義の追加・修正
- コンパイラオプションの最適化

✅ ビルド設定
- vite.config.ts の調整
- プラグイン追加・設定
- 環境変数設定

✅ リント・フォーマット設定
- eslint.config.js 調整
- .prettierrc 設定
- エディタ設定（.vscode/settings.json）

✅ テスト設定
- jest.config.js 設定
- テストセットアップファイル
- モック設定
```

### **コード実装**
```markdown
✅ React コンポーネント
- 新規コンポーネント作成
- 既存コンポーネント修正
- Props型定義
- スタイリング（CSS/SCSS）

✅ TypeScript実装
- 型定義作成・更新
- インターフェース定義
- ユーティリティ型の作成
- 型安全性の向上

✅ サービス層実装
- API呼び出し関数
- データ変換ロジック
- エラーハンドリング
- キャッシュ機能

✅ フック実装
- カスタムフック作成
- 状態管理ロジック
- 副作用処理
- パフォーマンス最適化
```

### **テスト・品質管理**
```markdown
✅ テスト作成・実行
- 単体テスト作成
- 統合テスト作成
- テストデータ作成
- モック作成

✅ 品質改善
- ESLint エラー修正
- TypeScript エラー修正
- パフォーマンス最適化
- アクセシビリティ改善

✅ リファクタリング
- コード構造改善
- 重複コード削除
- 命名改善
- 設計パターン適用
```

### **ドキュメント**
```markdown
✅ コードドキュメント
- JSDoc コメント追加
- README.md 更新
- API ドキュメント作成
- 使用例の追加

✅ 技術ドキュメント
- 実装メモ作成
- トラブルシューティング
- 設定手順書
- デプロイ手順書
```

## ⚠️ 条件付き許可（マネージャーClaude承認必要）

### **アーキテクチャ変更**
```markdown
⚠️ 大幅な構造変更
- フォルダ構造の大規模変更
- 設計パターンの根本的変更
- データフロー変更

⚠️ 新技術導入
- 新しいライブラリ・フレームワーク
- 実験的な機能
- ベータ版パッケージ

⚠️ パフォーマンス影響
- バンドルサイズに大きく影響する変更
- メモリ使用量に影響する変更
- ビルド時間に大きく影響する変更
```

## ❌ 禁止事項（人間の承認必須）

### **外部サービス・機密情報**
```markdown
❌ Firebase設定
- プロジェクト設定変更
- セキュリティルール変更
- 本番データ操作

❌ 環境変数・機密情報
- API キーの設定
- 本番環境設定
- 認証情報の変更

❌ 外部連携
- GitHub設定変更
- ドメイン設定
- 決済システム設定
```

## 🎯 自動実行の指針

### **積極的に実行してください**
```markdown
1. エラー修正: ビルドエラー、リントエラーは即座に修正
2. 品質向上: 型安全性、パフォーマンス、アクセシビリティの改善
3. 最適化: コード重複削除、命名改善、構造最適化
4. テスト: 新機能には必ずテストを追加
5. ドキュメント: 複雑な処理には説明コメントを追加
```

### **判断基準**
```markdown
✅ 実行OK: 開発効率・品質向上に寄与する変更
✅ 実行OK: 既存機能を壊さない改善
✅ 実行OK: 業界標準・ベストプラクティスに沿った変更

⚠️ 要相談: ビジネスロジックに影響する変更
⚠️ 要相談: ユーザー体験に大きく影響する変更
⚠️ 要相談: セキュリティに関わる変更

❌ 禁止: 外部サービス・本番環境・機密情報に関わる変更
```

## 🚀 効率的な作業のために

### **事前確認不要な作業例**
```markdown
"React コンポーネントを作成します"
"TypeScript の型エラーを修正します"
"ESLint の警告を解決します"
"テストを追加します"
"パフォーマンスを最適化します"
"アクセシビリティを改善します"
"コードをリファクタリングします"
"ドキュメントを更新します"
```

### **作業報告フォーマット**
```markdown
## 実行した作業
- [具体的な作業内容]

## 変更したファイル
- src/components/NewComponent.tsx (新規作成)
- src/types/index.ts (型定義追加)
- package.json (依存関係追加)

## 理由・効果
- [なぜこの変更が必要だったか]
- [どのような効果があるか]

## 次のステップ
- [関連する作業があれば]
```

## 🎯 この権限設定の効果

### **開発速度向上**
- 確認待ち時間の削減
- 継続的な品質改善
- 自動的な最適化

### **品質保証**
- 一貫した実装品質
- ベストプラクティスの適用
- 包括的なテスト

### **効率的なコミュニケーション**
- 重要な判断のみ人間に相談
- 明確な報告による透明性
- 段階的な権限拡大

この権限設定により、Claude Code は最大限の自律性を持って効率的に開発を進めることができます。